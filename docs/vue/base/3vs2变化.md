---
id: vueChange
title: vue3 vs vue2
hide_title: true
sidebar_label: vue3 vs vue2
---

## Ref

### ref 可以绑定方法，获取当前 `element`

```html {11} title="vue3"
<template>
  <div :ref="setRef">
  </div>
</template>

<script lang="ts">
import { defineComponent } from 'vue'
export default defineComponent({
  name: 'App',
  methods: {
    setRef (el) {
      console.log(el)
    }
  }
})
</script>
```

:::warning

- `v2`版本中，如果绑定的是方法不会执行，也不会绑定到`$refs`上面
:::

### v-for 中的 ref 将不会绑定到 $refs

在 `v2` 中，在 `v-fo`r 里使用`ref`: `attribute` 会用 `ref` 数组填充相应的 `$refs property`。在 `v3` 中将会抛出警告，并且不会做任何绑定。

```html {13} title="vue2"
<template>
  <div>
    <div v-for="i in 3" :ref="i" :key="i"></div>
    <div v-for="i in 3" ref="item" :key="i + 5"></div>
  </div>

</template>

<script>
export default {
  name: 'APP',
  mounted () {
    console.log(this.$refs) // {1: Array(1), 2: Array(1), 3: Array(1), item: Array(3)}
  }
}
</script>
```
